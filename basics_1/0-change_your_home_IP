#!/usr/bin/env bash

# Check for root privileges
if [ "$(id -u)" -ne 0 ]; then
    echo "This script must be run as root"
    exit 1
fi

# Backup current /etc/hosts
cp /etc/hosts /etc/hosts.bak || {
    echo "Failed to back up /etc/hosts"
    exit 1
}

# Remove existing localhost and facebook.com lines (if any)
sed -i '/[[:space:]]localhost$/d' /etc/hosts
sed -i '/facebook\.com/d' /etc/hosts

# Add new host entries
echo "127.0.0.2 localhost" | tee -a /etc/hosts > /dev/null
echo "8.8.8.8 facebook.com" | tee -a /etc/hosts > /dev/null
